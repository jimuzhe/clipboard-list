# è¾¹ç•Œè§¦å‘åŠŸèƒ½è¯´æ˜Ž

## åŠŸèƒ½æ¦‚è¿°

è¾¹ç•Œè§¦å‘åŠŸèƒ½å…è®¸ç”¨æˆ·å°†é¼ æ ‡ç§»åŠ¨åˆ°å±å¹•è¾¹ç¼˜æ¥è‡ªåŠ¨æ˜¾ç¤ºéšè—çš„åº”ç”¨çª—å£ï¼Œå½“é¼ æ ‡ç¦»å¼€çª—å£æ—¶è‡ªåŠ¨éšè—ã€‚è¿™ä¸ªåŠŸèƒ½ç±»ä¼¼äºŽ QQ çš„çª—å£å¸é™„ç‰¹æ€§ã€‚

## ä¸»è¦ç‰¹æ€§

### ðŸŽ¯ æ™ºèƒ½è§¦å‘
- **è§¦å‘åŒºåŸŸ**: å±å¹•è¾¹ç¼˜5åƒç´ èŒƒå›´å†…
- **ç²¾ç¡®å®šä½**: åªåœ¨çª—å£å¯¹åº”çš„åž‚ç›´/æ°´å¹³èŒƒå›´å†…è§¦å‘
- **å®žæ—¶ç›‘å¬**: 50ms æ£€æŸ¥é—´éš”ï¼Œå“åº”è¿…é€Ÿ

### ðŸ–±ï¸ é¼ æ ‡è·Ÿéš
- **è¾¹ç¼˜æ˜¾ç¤º**: é¼ æ ‡ç§»åˆ°è¾¹ç¼˜ç«‹å³æ˜¾ç¤ºçª—å£
- **å»¶æ—¶éšè—**: é¼ æ ‡ç¦»å¼€çª—å£1ç§’åŽè‡ªåŠ¨éšè—
- **ç¼“å†²åŒºåŸŸ**: 20åƒç´ ç¼“å†²åŒºåŸŸé˜²æ­¢è¯¯è§¦å‘

### âš™ï¸ å¯é…ç½®æ€§
- **è§¦å‘åŒºåŸŸå®½åº¦**: 1-50åƒç´ å¯è°ƒ (é»˜è®¤5åƒç´ )
- **å¯ç”¨/ç¦ç”¨**: å¯ä»¥éšæ—¶å¼€å¯æˆ–å…³é—­åŠŸèƒ½
- **è‡ªåŠ¨ç®¡ç†**: é…ç½®æ›´æ–°æ—¶è‡ªåŠ¨åº”ç”¨

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

1. **å¯ç”¨å¸é™„åŠŸèƒ½**: ç¡®ä¿ `WindowConfig.dockToSide` ä¸º `true`
2. **ç§»åŠ¨çª—å£**: å°†çª—å£æ‹–æ‹½åˆ°å±å¹•è¾¹ç¼˜è¿›è¡Œå¸é™„
3. **è‡ªåŠ¨éšè—**: çª—å£å¸é™„åŽä¼šè‡ªåŠ¨éšè—
4. **è§¦å‘æ˜¾ç¤º**: å°†é¼ æ ‡ç§»åŠ¨åˆ°å¯¹åº”è¾¹ç¼˜æ˜¾ç¤ºçª—å£

### é…ç½®é€‰é¡¹

```typescript
interface WindowConfig {
    dockToSide: boolean;     // å¯ç”¨å¸é™„åŠŸèƒ½
    autoHide: boolean;       // å¯ç”¨è‡ªåŠ¨éšè—
    dockThreshold: number;   // å¸é™„è§¦å‘è·ç¦»
    dockOffset: number;      // å¸é™„æ—¶çš„éšè—åç§»
}
```

### API æ–¹æ³•

```typescript
// è®¾ç½®è§¦å‘åŒºåŸŸå®½åº¦
windowManager.setTriggerZoneWidth(10); // è®¾ç½®ä¸º10åƒç´ 

// èŽ·å–å½“å‰è§¦å‘åŒºåŸŸå®½åº¦
const width = windowManager.getTriggerZoneWidth();

// å¯ç”¨/ç¦ç”¨è¾¹ç¼˜è§¦å‘
windowManager.setEdgeTriggerEnabled(true);

// æ£€æŸ¥æ˜¯å¦å·²å¯ç”¨
const enabled = windowManager.isEdgeTriggerEnabled();
```

## æŠ€æœ¯å®žçŽ°

### å…‰æ ‡ä½ç½®ç›‘å¬
- ä½¿ç”¨ `screen.getCursorScreenPoint()` èŽ·å–å®žæ—¶å…‰æ ‡ä½ç½®
- å®šæ—¶å™¨æ¯50msæ£€æŸ¥ä¸€æ¬¡å…‰æ ‡ä½ç½®
- åªåœ¨çª—å£å¸é™„ä¸”éšè—æ—¶è¿›è¡Œæ£€æŸ¥

### è§¦å‘æ¡ä»¶åˆ¤æ–­
```typescript
// å³è¾¹ç¼˜è§¦å‘ç¤ºä¾‹
if (cursorPos.x >= screenX + screenWidth - this.triggerZoneWidth &&
    cursorPos.y >= windowBounds.y &&
    cursorPos.y <= windowBounds.y + windowBounds.height) {
    shouldShow = true;
}
```

### éšè—é€»è¾‘
```typescript
// æ£€æŸ¥é¼ æ ‡æ˜¯å¦åœ¨çª—å£åŒºåŸŸå†… (å«ç¼“å†²åŒº)
const buffer = 20;
const isInWindow = cursorPos.x >= windowBounds.x - buffer &&
                 cursorPos.x <= windowBounds.x + windowBounds.width + buffer &&
                 cursorPos.y >= windowBounds.y - buffer &&
                 cursorPos.y <= windowBounds.y + windowBounds.height + buffer;
```

## æ€§èƒ½ä¼˜åŒ–

### æ™ºèƒ½ç›‘å¬
- åªåœ¨å¿…è¦æ—¶å¯åŠ¨å…‰æ ‡ç›‘å¬
- åªåœ¨çª—å£éšè—æ—¶æ£€æŸ¥è§¦å‘æ¡ä»¶
- é…ç½®å˜æ›´æ—¶è‡ªåŠ¨è°ƒæ•´ç›‘å¬çŠ¶æ€

### èµ„æºç®¡ç†
- è‡ªåŠ¨æ¸…ç†å®šæ—¶å™¨å’Œäº‹ä»¶ç›‘å¬å™¨
- çª—å£é”€æ¯æ—¶é‡Šæ”¾æ‰€æœ‰èµ„æº
- é”™è¯¯å¤„ç†é˜²æ­¢å†…å­˜æ³„æ¼

## å…¼å®¹æ€§

### æ”¯æŒçš„å¸é™„è¾¹
- âœ… **å·¦è¾¹ç¼˜**: çª—å£å¸é™„åˆ°å±å¹•å·¦ä¾§
- âœ… **å³è¾¹ç¼˜**: çª—å£å¸é™„åˆ°å±å¹•å³ä¾§  
- âœ… **é¡¶éƒ¨è¾¹ç¼˜**: çª—å£å¸é™„åˆ°å±å¹•é¡¶éƒ¨

### å¤šæ˜¾ç¤ºå™¨æ”¯æŒ
- è‡ªåŠ¨æ£€æµ‹çª—å£æ‰€åœ¨æ˜¾ç¤ºå™¨
- ä½¿ç”¨å¯¹åº”æ˜¾ç¤ºå™¨çš„å·¥ä½œåŒºåŸŸè®¡ç®—
- æ”¯æŒä¸åŒåˆ†è¾¨çŽ‡çš„æ˜¾ç¤ºå™¨

## æµ‹è¯•

### æµ‹è¯•æ–‡ä»¶
- `test-edge-trigger.js`: åŠŸèƒ½æµ‹è¯•è„šæœ¬
- `test-edge-trigger.html`: æµ‹è¯•ç•Œé¢

### è¿è¡Œæµ‹è¯•
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
node test-edge-trigger.js
```

### æµ‹è¯•æ­¥éª¤
1. å¯åŠ¨æµ‹è¯•è„šæœ¬
2. è§‚å¯Ÿçª—å£è‡ªåŠ¨å¸é™„å¹¶éšè—
3. ç§»åŠ¨é¼ æ ‡åˆ°å±å¹•å³è¾¹ç¼˜
4. éªŒè¯çª—å£è‡ªåŠ¨æ˜¾ç¤º
5. ç§»åŠ¨é¼ æ ‡ç¦»å¼€çª—å£
6. éªŒè¯çª—å£è‡ªåŠ¨éšè—

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆå…‰æ ‡ç§»åˆ°è¾¹ç¼˜æ²¡æœ‰ååº”ï¼Ÿ
A: æ£€æŸ¥ä»¥ä¸‹è®¾ç½®ï¼š
- `dockToSide` æ˜¯å¦ä¸º `true`
- çª—å£æ˜¯å¦å·²æ­£ç¡®å¸é™„
- å…‰æ ‡æ˜¯å¦åœ¨çª—å£å¯¹åº”çš„åž‚ç›´èŒƒå›´å†…

### Q: çª—å£æ˜¾ç¤ºåŽä¸ä¼šè‡ªåŠ¨éšè—ï¼Ÿ
A: æ£€æŸ¥ä»¥ä¸‹è®¾ç½®ï¼š
- `autoHide` æ˜¯å¦ä¸º `true`
- é¼ æ ‡æ˜¯å¦çœŸæ­£ç¦»å¼€äº†çª—å£åŒºåŸŸ (åŒ…å«20åƒç´ ç¼“å†²åŒº)
- çª—å£æ˜¯å¦å¤„äºŽç„¦ç‚¹çŠ¶æ€

### Q: å¦‚ä½•è°ƒæ•´è§¦å‘çš„æ•æ„Ÿåº¦ï¼Ÿ
A: ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š
```typescript
// å¢žåŠ è§¦å‘åŒºåŸŸå®½åº¦ (æ›´å®¹æ˜“è§¦å‘)
windowManager.setTriggerZoneWidth(10);

// å‡å°‘è§¦å‘åŒºåŸŸå®½åº¦ (éœ€è¦æ›´ç²¾ç¡®)
windowManager.setTriggerZoneWidth(3);
```

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-09)
- âœ¨ æ–°å¢žè¾¹ç•Œè§¦å‘åŠŸèƒ½
- âœ¨ æ”¯æŒä¸‰ä¸ªæ–¹å‘çš„è¾¹ç¼˜å¸é™„ (å·¦ã€å³ã€ä¸Š)
- âœ¨ æ™ºèƒ½å…‰æ ‡ä½ç½®æ£€æµ‹
- âœ¨ å¯é…ç½®çš„è§¦å‘åŒºåŸŸå®½åº¦
- âœ¨ è‡ªåŠ¨èµ„æºç®¡ç†å’Œæ¸…ç†
- âœ¨ å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
